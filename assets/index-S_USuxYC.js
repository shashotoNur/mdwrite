import{j as e,M as j,r as k,a as g,b as C,p as P}from"./plugins-zOuqcpMR.js";import{r as s}from"./ace-ERQk7LBk.js";import{u as E,M as N,S as h,T as $,E as b,a as K,g as S}from"./index-MhRWvM9V.js";import{P as M,r as R,a as T}from"./index-mIaWgJYe.js";const q=()=>{const{p1:a,p2:t}=E(),{handleChange:i,filenameChange:c}=s.useContext(N),{setPreview:l}=s.useContext(h),{markdown:w,wordCount:u,charCount:x,filename:f}=s.useContext(h),{theme:r}=s.useContext($);return s.useEffect(()=>{const m=v=>Object.entries(localStorage).filter(([n])=>{const o=n.split(" :~~: ")[0],y=S(new Date(n.replace("Entry: ","").split(" :~~: ")[1]));return(o+"@"+y).startsWith(`Entry: ${v}`)}).map(([n,o])=>({filename:n.replace("Entry: ","").split(" :~~: ")[0],markdown:o}))[0];if(!a||!t)return console.log("not working");const d=m(a),p=m(t);!d||!p||(c(a),i(d.markdown),l({filename:t,markdown:p.markdown}))},[c,i,a,t,l]),e.jsxs("div",{className:"previews",children:[e.jsx("div",{className:`preview-pane ${r}`,children:e.jsx(M,{})}),e.jsx("div",{className:`preview-pane ${r}`,children:e.jsxs(b,{FallbackComponent:K,children:[e.jsxs("div",{className:`preview-info ${r}`,children:[e.jsxs("div",{className:`word-count ${r}`,children:[u," words"]}),e.jsxs("div",{className:`char-count ${r}`,children:[x," characters"]})]}),e.jsx("h3",{children:f}),e.jsx("div",{className:`preview-content ${r}`,children:e.jsx(j,{rehypePlugins:[k,R],remarkPlugins:[g,T,C,P],children:w})})]})})]})};export{q as default};
//# sourceMappingURL=index-S_USuxYC.js.map
